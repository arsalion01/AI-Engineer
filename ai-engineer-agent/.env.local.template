# AI Engineer Agent - Local Development Environment Configuration
# Copy this file to .env.local for local development

# ============================================================================
# Application Settings
# ============================================================================
NODE_ENV=development
APP_URL=http://localhost:3000
PORT=3000
LOG_LEVEL=debug

# Domain and SSL settings (not needed for local)
DOMAIN=localhost
SSL_EMAIL=dev@localhost

# ============================================================================
# Database Configuration
# ============================================================================
# Main PostgreSQL Database (using local PostgreSQL)
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=ai_engineer_agent_dev
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/ai_engineer_agent_dev

# TimescaleDB for Analytics (local instance)
ANALYTICS_DATABASE_URL=postgresql://postgres:postgres@localhost:5433/ai_engineer_analytics_dev

# ============================================================================
# Redis Configuration
# ============================================================================
REDIS_PASSWORD=
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_URL=redis://localhost:6379

# ============================================================================
# Authentication & Security
# ============================================================================
# Google OAuth Configuration (development app)
GOOGLE_CLIENT_ID=your-dev-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-dev-google-client-secret

# JWT Configuration (development secrets)
JWT_SECRET=dev-jwt-secret-for-local-development-only
JWT_EXPIRES_IN=24h

# Encryption key for sensitive data (development only)
ENCRYPTION_KEY=dev-encryption-key-32-chars-long

# Session configuration
SESSION_SECRET=dev-session-secret-key
SESSION_MAX_AGE=86400000

# ============================================================================
# AI Services Configuration
# ============================================================================
# Google Gemini API (development key)
GEMINI_API_KEY=your-gemini-api-key-here

# Development rate limiting (very permissive)
GEMINI_REQUESTS_PER_DAY=100
GEMINI_REQUESTS_PER_HOUR=50
GEMINI_REQUESTS_PER_MINUTE=10

# ============================================================================
# Email Configuration
# ============================================================================
# Use local email testing (Mailhog or similar)
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_SECURE=false
SMTP_USER=
SMTP_PASSWORD=
FROM_EMAIL=dev@localhost
FROM_NAME=AI Engineer Agent (Dev)

# ============================================================================
# Monitoring & Analytics
# ============================================================================
# Sentry (optional for local development)
# SENTRY_DSN=

# Grafana Configuration (if running locally)
GRAFANA_USER=admin
GRAFANA_PASSWORD=admin

# Analytics settings
ENABLE_ANALYTICS=true
ANALYTICS_RETENTION_DAYS=7

# ============================================================================
# File Storage & Uploads
# ============================================================================
# File upload limits
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=.json,.txt,.md,.pdf,.png,.jpg,.jpeg,.zip

# Storage configuration
STORAGE_TYPE=local
UPLOAD_PATH=./uploads

# ============================================================================
# Rate Limiting & Security
# ============================================================================
# Very relaxed rate limiting for development
API_RATE_LIMIT_WINDOW=900000
API_RATE_LIMIT_MAX_REQUESTS=1000

# CORS Configuration (allow all for development)
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true

# Security Headers (relaxed for development)
HELMET_ENABLED=false
TRUST_PROXY=0

# ============================================================================
# Background Jobs & Processing
# ============================================================================
# Job queue configuration
JOB_CONCURRENCY=1
JOB_ATTEMPTS=1
JOB_BACKOFF_DELAY=1000

# Workflow processing
WORKFLOW_TIMEOUT=60000
MAX_CONCURRENT_WORKFLOWS=2

# ============================================================================
# GitHub Integration (Optional)
# ============================================================================
# GitHub OAuth for repository access
# GITHUB_CLIENT_ID=your-dev-github-client-id
# GITHUB_CLIENT_SECRET=your-dev-github-client-secret

# GitHub repository for workflow templates
WORKFLOW_REPO_URL=https://github.com/oxbshw/ultimate-n8n-ai-workflows.git
WORKFLOW_REPO_BRANCH=main

# ============================================================================
# Backup & Maintenance
# ============================================================================
# Backup configuration (not needed for local)
BACKUP_RETENTION_DAYS=1
BACKUP_SCHEDULE=0 6 * * *
BACKUP_ENCRYPTION_KEY=dev-backup-key

# Database maintenance
DB_VACUUM_SCHEDULE=0 6 * * 0
LOG_ROTATION_DAYS=1

# ============================================================================
# Performance & Scaling
# ============================================================================
# Connection pooling (minimal for local)
DB_POOL_MIN=1
DB_POOL_MAX=5
DB_POOL_IDLE_TIMEOUT=2000

# Caching
CACHE_TTL=300
REDIS_KEY_PREFIX=ai_engineer_dev:

# WebSocket configuration
WS_MAX_CONNECTIONS=10
WS_HEARTBEAT_INTERVAL=30000

# ============================================================================
# Feature Flags
# ============================================================================
ENABLE_TEAM_COLLABORATION=true
ENABLE_ADVANCED_ANALYTICS=true
ENABLE_WORKFLOW_TEMPLATES=true
ENABLE_REAL_TIME_COLLABORATION=true
ENABLE_NOTIFICATIONS=false
ENABLE_API_DOCUMENTATION=true

# ============================================================================
# Development & Debug
# ============================================================================
DEBUG=true
VERBOSE_LOGGING=true
ENABLE_PLAYGROUND=true

# Hot reload and development features
HOT_RELOAD=true
DEV_TOOLS=true